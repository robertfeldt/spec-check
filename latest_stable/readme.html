<pre><code>spec-check
Copyright (c) Robert Feldt. All rights reserved.
The use and distribution terms for this software are covered by the
Common Public License 1.0 (http://opensource.org/licenses/cpl.php)
which can be found in the file CPL.TXT at the root of this distribution.
By using this software in any fashion, you are agreeing to be bound by
    the terms of this license.
You must not remove this notice, or any other, from this software.
</code></pre>

<h1>spec-check - Specification and autochecking of sw behavior expectations</h1>

<pre><code>Author:  Robert Feldt
Email:   robert.feldt (at) gmail.com
Version: 0.1
Date:    20080401
License: Common Public License
</code></pre>

<h2>What is it?</h2>

<p>spec-check is a small Clojure library for specifying expectations on 
the behavior of software and then checking them. It is similar to the 
xUnit family of unit testing frameworks but also to RSpec for 
behavior-driven testing/specification. It extends on both of these
frameworks by addign higher-order checking capabilities like random and 
exhaustive testing.</p>

<h2>How can I use it?</h2>

<p>Here is a small example of how to use spec-check:</p>

<pre><code>(load-file "path/to/spec-check.clj")
(clojure/refer 'spec)

; Collect specifications in normal Clojure functions
(defn spec-myspec []
  (spec "My first spec"
    (is == 1 1)
    (is not= 1 2)
    (is true? (== 'a 'a))
    (isnt true? (== 'a 'b))
    (is false? true) ; should fail!
))

; and check it
(check (spec-myspec))
</code></pre>

<p>if you save that in a file myspec.clj and run it you get:</p>

<pre><code>...F
FAILURE:
  the code was: (false? (= 1 (count [1]))), but
  arguments was: true

Finished in 0.00213 seconds

4 expectations checked, 1 failed
</code></pre>

<h2>Where can I get it?</h2>

<p>If you have git you can simply</p>

<pre><code>git clone git://github.com/robertfeldt/spec-check.git
</code></pre>

<p>or you can get a tarball of the latest repo version from</p>

<pre><code>http://github.com/robertfeldt/spec-check/tarball/master
</code></pre>

<p>To write your own specs you only need to get the latest stable
version of the spec-check.clj file here:</p>

<h2>Where can I find more examples?</h2>

<p>Check the samples directory, especially factorial_spec.clj
(which shows parameterized specs) and clojure/nums_spec.clj
(the start of a spec for Clojures Nums).</p>

<h2>What is the current status?</h2>

<p>Done:</p>

<ul>
<li>Core with expectations, specs and checking</li>
</ul>

<p>Todo:</p>

<ul>
<li>Random testing via lazy collections</li>
<li>Extend so can be run from command-line to load several specs and run them
together.</li>
<li>Better reporting of line numbers where expectation failed</li>
<li>Write self-checks in specs/spec-check_spec.clj</li>
<li>Exhaustive testing via lazy collections</li>
<li>Verbose output formats to get lists of example uses from specs</li>
<li>Add more specs for Clojure's core funcitonality</li>
</ul>
